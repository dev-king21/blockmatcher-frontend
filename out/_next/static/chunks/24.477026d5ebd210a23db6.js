(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[24],{n08N:function(e,t,c){"use strict";c.r(t);var s=c("nKUr"),n=c("1OyB"),r=c("vuIU"),i=c("Ji7U"),l=c("md7G"),a=c("foSv"),o=c("q1tI"),j=c.n(o),d=c("/MKj"),b=c("55Ip"),h=c("Ty5D"),u=c("17x9"),m=c.n(u);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var c=arguments[t];for(var s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s])}return e}).apply(this,arguments)}function O(e,t){if(null==e)return{};var c,s,n=function(e,t){if(null==e)return{};var c,s,n={},r=Object.keys(e);for(s=0;s<r.length;s++)c=r[s],t.indexOf(c)>=0||(n[c]=e[c]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(s=0;s<r.length;s++)c=r[s],t.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(e,c)&&(n[c]=e[c])}return n}var f=Object(o.forwardRef)((function(e,t){var c=e.color,s=void 0===c?"currentColor":c,n=e.size,r=void 0===n?24:n,i=O(e,["color","size"]);return j.a.createElement("svg",p({ref:t,xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),j.a.createElement("polyline",{points:"15 18 9 12 15 6"}))}));f.propTypes={color:m.a.string,size:m.a.oneOfType([m.a.string,m.a.number])},f.displayName="ChevronLeft";var x=f,v=c("LADp"),N=c("ZpDd"),y=c("o0o1"),k=c.n(y),z=c("HaE+"),g=c("JX7q"),_=c("rePB"),w=c("YW6W");function D(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var c,s=Object(a.a)(e);if(t){var n=Object(a.a)(this).constructor;c=Reflect.construct(s,arguments,n)}else c=s.apply(this,arguments);return Object(l.a)(this,c)}}var S=c("wd/R"),I=function(e){Object(i.a)(c,e);var t=D(c);function c(){var e;Object(n.a)(this,c);for(var s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r)),Object(_.a)(Object(g.a)(e),"clickRevoke",function(){var t=Object(z.a)(k.a.mark((function t(c){var s;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.props.user,c.preventDefault(),t.next=4,e.props.dispatch(Object(N.H)(s));case 4:return t.next=6,e.props.dispatch(Object(N.B)("revoke-invite"));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Object(_.a)(Object(g.a)(e),"clickUpdate",function(){var t=Object(z.a)(k.a.mark((function t(c){var s;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.props.user,c.preventDefault(),t.next=4,e.props.dispatch(Object(N.J)(s));case 4:return t.next=6,e.props.dispatch(Object(N.B)("new-invite"));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e}return Object(r.a)(c,[{key:"renderSender",value:function(){var e=this.props.user;if(!e.parent||!e.parent.id)return null;var t=e.parent;return Object(s.jsxs)(o.Fragment,{children:[Object(s.jsx)("label",{className:"font-size-14 d-block",children:Object(s.jsx)("b",{children:"Data From Invite Sender"})}),Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["Invitee email: ",Object(s.jsx)("b",{children:t.email})]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["Invitee name: ",Object(s.jsx)("b",{children:t.profile.invitation_name||"".concat(t.first_name," ").concat(t.last_name)})]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["Timestamp of invite:"," ",Object(s.jsx)("b",{children:S(t.created_at).local().format("M/D/YYYY h:mm A")})]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["Invited by: ",Object(s.jsx)("b",{children:t.invited_by||"Admin"})]})})]})]})}},{key:"renderReceiver",value:function(){var e=this.props.user,t="";e&&e.profile&&(t=e.profile.type||"");var c=null;return e&&e.profile&&e.profile.opened_at&&(c=S(e.profile.opened_at).local().format("M/D/YYYY h:mm A")),Object(s.jsxs)(o.Fragment,{children:[Object(s.jsx)("label",{className:"font-size-14 d-block",children:Object(s.jsx)("b",{children:"Data From Invite Receiver"})}),Object(s.jsx)("ul",{children:Object(s.jsxs)("li",{children:[Object(s.jsxs)("label",{className:"font-size-14",children:["Invitee type selection:"," ",Object(s.jsx)("b",{children:t?w.a.capitalizeFirst(t):""})]}),Object(s.jsxs)("label",{className:"font-size-14",children:["Invitee name provided: ",Object(s.jsx)("b",{children:e.profile.invitation_name})]}),Object(s.jsxs)("label",{className:"font-size-14",children:["Invitee citizenship: ",Object(s.jsx)("b",{children:e.profile.country_citizenship})]}),Object(s.jsxs)("label",{className:"font-size-14",children:["Invite open timestamp: ",Object(s.jsx)("b",{children:c})]}),Object(s.jsxs)("label",{className:"font-size-14",children:["Invitee address provided: ",Object(s.jsx)("b",{children:e.profile.address})]})]})})]})}},{key:"render",value:function(){var e=this.props,t=e.authUser,c=e.user;return t&&t.id&&c&&c.id?Object(s.jsxs)("div",{id:"app-single-user-page__inviteView",children:[Object(s.jsx)("h3",{className:"mb-3 font-weight-bold",children:"Invite Summary"}),Object(s.jsxs)("section",{children:[Object(s.jsxs)("label",{className:"font-size-14 d-block",children:["Invite Number: ",Object(s.jsx)("b",{children:c.id})]}),Object(s.jsxs)("label",{className:"font-size-14 d-block",children:["Status: ",Object(s.jsx)("b",{children:w.a.capitalizeFirst(c.profile.status)})]}),Object(s.jsxs)("div",{className:"row mt-3",children:[Object(s.jsx)("div",{className:"col-md-6",children:this.renderSender()}),Object(s.jsx)("div",{className:"col-md-6",children:this.renderReceiver()})]}),Object(s.jsxs)("div",{className:"mt-5",children:[Object(s.jsx)("a",{className:"btn btn-primary mr-2",onClick:this.clickRevoke,children:"Revoke Invite"}),Object(s.jsx)("a",{className:"btn btn-light",onClick:this.clickUpdate,children:"Update Invite"})]})]})]}):null}}]),c}(o.Component),R=Object(d.b)((function(e){return{authUser:e.global.authUser}}))(Object(h.h)(I)),Y=c("IwCS");function A(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var c,s=Object(a.a)(e);if(t){var n=Object(a.a)(this).constructor;c=Reflect.construct(s,arguments,n)}else c=s.apply(this,arguments);return Object(l.a)(this,c)}}var C=c("vDqi"),F=c("wd/R"),M=function(e){Object(i.a)(c,e);var t=A(c);function c(e){var s;return Object(n.a)(this,c),s=t.call(this,e),Object(_.a)(Object(g.a)(s),"clickApprove",(function(e){e.preventDefault();var t=s.props,c=t.user,n=t.onRefresh;confirm("Are you sure you are going to approve the KYC?")&&s.props.dispatch(Object(v.a)(c.id,(function(){s.props.dispatch(Object(N.L)())}),(function(e){s.props.dispatch(Object(N.w)()),e&&e.success&&n&&n()})))})),Object(_.a)(Object(g.a)(s),"clickDeny",(function(e){e.preventDefault();var t=s.props,c=t.user,n=t.onRefresh;confirm("Are you sure you are going to deny the KYC?")&&s.props.dispatch(Object(v.f)(c.id,(function(){s.props.dispatch(Object(N.L)())}),(function(e){s.props.dispatch(Object(N.w)()),e&&e.success&&n&&n()})))})),Object(_.a)(Object(g.a)(s),"clickReset",function(){var e=Object(z.a)(k.a.mark((function e(t){var c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=s.props.user,t.preventDefault(),e.next=4,s.props.dispatch(Object(N.G)(c));case 4:return e.next=6,s.props.dispatch(Object(N.B)("reset-kyc"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),s}return Object(r.a)(c,[{key:"componentDidMount",value:function(){var e=this,t=this.props,c=t.user,s=t.onRefresh,n=c.shuftipro_temp;if(!w.a.isEmpty(n)&&"booked"==n.status){var r=Y.e[Y.f].clientId,i=Y.e[Y.f].clientSecret,l=btoa(r+":"+i);C({method:"POST",headers:{"Content-Type":"application/json",Authorization:"Basic "+l},data:JSON.stringify({reference:null===n||void 0===n?void 0:n.reference_id}),url:Y.d+"/status"}).then(function(){var t=Object(z.a)(k.a.mark((function t(n){var r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n||!n.data){t.next=6;break}if(r=n.data,"verification.accepted"!==r.event){t.next=6;break}return t.next=6,e.props.dispatch(Object(v.a)(c.id,(function(){e.props.dispatch(Object(N.L)())}),(function(t){e.props.dispatch(Object(N.w)()),t&&t.success&&s&&s()})));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.props.dispatch(Object(N.w)())}))}}},{key:"renderSender",value:function(){var e=this.props.user;if(!e.parent||!e.parent.id)return null;var t=e.parent;return Object(s.jsxs)(o.Fragment,{children:[Object(s.jsx)("label",{className:"font-size-14 d-block",children:Object(s.jsx)("b",{children:"Data From Invite Sender"})}),Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["Invitee email: ",Object(s.jsx)("b",{children:t.email})]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["Invitee reason: ",Object(s.jsx)("b",{children:t.reason||("admin"===t.role?"Admin Request":"")})]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["Invitee name: ",Object(s.jsx)("b",{children:t.profile.invitation_name||("admin"===t.role?"".concat(t.first_name," ").concat(t.last_name):"")})]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["Invitee role: ",Object(s.jsx)("b",{children:t.role})]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["Timestamp of invite:"," ",Object(s.jsx)("b",{children:F(t.created_at).local().format("M/D/YYYY h:mm A")})]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["Invited by: ",Object(s.jsx)("b",{children:t.invited_by})]})})]})]})}},{key:"renderReceiver",value:function(){var e=this.props.user,t="";e&&e.profile&&(t=e.profile.type||"");var c=null;e&&e.profile&&e.profile.opened_at&&(c=F(e.profile.opened_at).local().format("M/D/YYYY h:mm A"));var n="";return n=e&&(e.first_name||e.last_name)?"".concat(e.first_name," ").concat(e.last_name):e.profile.invitation_name,Object(s.jsxs)(o.Fragment,{children:[Object(s.jsx)("label",{className:"font-size-14 d-block",children:Object(s.jsx)("b",{children:"Data From Invite Receiver"})}),Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["Invitee type selection:"," ",Object(s.jsx)("b",{children:t?w.a.capitalizeFirst(t):""})]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["Invitee name provided: ",Object(s.jsx)("b",{children:n})]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["Invitee citizenship: ",Object(s.jsx)("b",{children:e.profile.country_citizenship})]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["Invite open timestamp: ",Object(s.jsx)("b",{children:c})]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["Invitee address provided: ",Object(s.jsx)("b",{children:e.profile.address})]})})]})]})}},{key:"renderAMLSection",value:function(){return Object(s.jsx)("section",{id:"aml-section",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-md-5",children:this.renderAMLBackground()}),Object(s.jsx)("div",{className:"col-md-4",children:this.renderAMLStatus()}),Object(s.jsx)("div",{className:"col-md-3 text-center",children:this.renderAMLSectionButtons()})]})})}},{key:"renderAMLBackground",value:function(){var e=this.props.user;return Object(s.jsxs)(o.Fragment,{children:[Object(s.jsx)("label",{className:"font-size-14 d-block",children:Object(s.jsx)("b",{children:"AML/Background"})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col-md-12",children:Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["First name: ",Object(s.jsx)("b",{children:e.first_name})]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["Last name: ",Object(s.jsx)("b",{children:e.last_name})]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["DOB:"," ",Object(s.jsx)("b",{children:e.profile.dob?F(e.profile.dob).format("DD/MM/YYYY"):""})]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["Country: ",Object(s.jsx)("b",{children:e.profile.country_citizenship})]})})]})})})]})}},{key:"renderAMLStatus",value:function(){return Object(s.jsxs)(o.Fragment,{children:[Object(s.jsx)("label",{className:"font-size-14 d-block",children:Object(s.jsx)("b",{children:"Status"})}),Object(s.jsx)("div",{className:"row"})]})}},{key:"renderAMLSectionButtons",value:function(){var e=this.props.user.shuftipro||{};return e&&e.reviewed?null:Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:Object(s.jsx)("a",{className:"btn btn-sm btn-success w-75",onClick:this.clickApprove,children:"Approve"})}),Object(s.jsx)("li",{className:"mt-2",children:Object(s.jsx)("a",{className:"btn btn-sm btn-danger w-75",onClick:this.clickDeny,children:"Deny"})}),Object(s.jsx)("li",{className:"mt-2",children:Object(s.jsx)("a",{className:"btn btn-sm btn-primary w-75",onClick:this.clickReset,children:"Reset"})})]})}},{key:"renderDocSectionButtons",value:function(){var e=this.props.user.shuftipro||{};return e&&e.reviewed?null:Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:Object(s.jsx)("a",{className:"btn btn-sm btn-success w-75",onClick:this.clickApprove,children:"Approve"})}),Object(s.jsx)("li",{className:"mt-2",children:Object(s.jsx)("a",{className:"btn btn-sm btn-danger w-75",onClick:this.clickDeny,children:"Deny"})}),Object(s.jsx)("li",{className:"mt-2",children:Object(s.jsx)("a",{className:"btn btn-sm btn-primary w-75",onClick:this.clickReset,children:"Reset"})})]})}},{key:"renderDetails",value:function(){var e=this.props.user,t=e.shuftipro||{};return Object(s.jsxs)("section",{id:"document-section",children:[Object(s.jsx)("label",{className:"font-size-14 d-block",children:Object(s.jsx)("b",{children:"Document Submission"})}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-md-5",children:Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["First name: ",Object(s.jsx)("b",{children:e.first_name})]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["Last name: ",Object(s.jsx)("b",{children:e.last_name})]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["DOB:"," ",Object(s.jsx)("b",{children:e.profile.dob?F(e.profile.dob).format("DD/MM/YYYY"):""})]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["Country: ",Object(s.jsx)("b",{children:e.profile.country_citizenship})]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["ID Check Status:"," ",Object(s.jsx)("b",{children:t.document_result?"Passed":"Failed"})]})})]})}),Object(s.jsx)("div",{className:"col-md-4",children:Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["Address: ",Object(s.jsx)("b",{children:e.profile.address})]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["Country: ",Object(s.jsx)("b",{children:e.profile.country_citizenship})]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["Address Check Status:"," ",Object(s.jsx)("b",{children:t.address_result?"Passed":"Failed"})]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["Reference Number: ",Object(s.jsx)("b",{children:t.reference_id||""})]})})]})}),Object(s.jsx)("div",{className:"col-md-3 text-center",children:this.renderDocSectionButtons()})]})]})}},{key:"render",value:function(){var e=this.props,t=e.authUser,c=e.user;return t&&t.id&&c&&c.id?Object(s.jsxs)("div",{id:"app-single-user-page__individualView",children:[Object(s.jsx)("h3",{className:"mb-3 font-weight-bold",children:"Individual KYC Summary"}),Object(s.jsxs)("section",{id:"invite-section",className:"invite-section",children:[Object(s.jsxs)("label",{className:"font-size-14 d-block",children:["Invite Number: ",Object(s.jsx)("b",{children:c.id})]}),Object(s.jsxs)("label",{className:"font-size-14 d-block",children:["Status: ",Object(s.jsx)("b",{children:w.a.capitalizeFirst(c.profile.status)})]}),Object(s.jsxs)("div",{className:"row mt-3",children:[Object(s.jsx)("div",{className:"col-md-6",children:this.renderSender()}),Object(s.jsx)("div",{className:"col-md-6",children:this.renderReceiver()})]})]}),this.renderAMLSection(),this.renderDetails()]}):null}}]),c}(o.Component),U=Object(d.b)((function(e){return{authUser:e.global.authUser}}))(Object(h.h)(M)),B=c("d76Q"),L=c.n(B);function P(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var c,s=Object(a.a)(e);if(t){var n=Object(a.a)(this).constructor;c=Reflect.construct(s,arguments,n)}else c=s.apply(this,arguments);return Object(l.a)(this,c)}}var T=c("wd/R"),E=function(e){Object(i.a)(c,e);var t=P(c);function c(e){var s;return Object(n.a)(this,c),(s=t.call(this,e)).state={columns:[],invites:[]},s}return Object(r.a)(c,[{key:"componentDidMount",value:function(){var e=this.props.user,t=[{name:Object(s.jsx)("label",{className:"table-header",children:"Invite #"}),cell:function(e){return Object(s.jsx)(b.b,{style:{cursor:"pointer"},to:"/app/user/".concat(e.id),className:"font-size-12",children:e.id})},compact:!0},{name:Object(s.jsx)("label",{className:"table-header",children:"Level"}),selector:"",cell:function(e){return(e.tree||"").split("-").length+1},sortable:!1,compact:!0},{name:Object(s.jsx)("label",{className:"table-header",children:"Invite Name"}),cell:function(e){return Object(s.jsx)("label",{className:"font-size-12",children:e.profile.invitation_name})},compact:!0},{name:Object(s.jsx)("label",{className:"table-header",children:"Invited At"}),cell:function(e){return Object(s.jsxs)("label",{className:"font-size-12",children:[T(e.created_at).local().format("M/D/YYYY"),Object(s.jsx)("br",{}),T(e.created_at).local().format("h:mm A")]})},compact:!0},{name:Object(s.jsx)("label",{className:"table-header",children:"Status"}),cell:function(e){return Object(s.jsx)("label",{className:"font-size-12",children:w.a.capitalizeFirst(e.profile.status)})},compact:!0},{name:Object(s.jsx)("label",{className:"table-header",children:"Opened"}),cell:function(e){return e.profile.opened_at?Object(s.jsxs)("label",{className:"font-size-12",children:[T(e.profile.opened_at).local().format("M/D/YYYY"),Object(s.jsx)("br",{}),T(e.profile.opened_at).local().format("h:mm A")]}):null},compact:!0},{name:Object(s.jsx)("label",{className:"table-header",children:"Type Selected"}),cell:function(e){return"entity"==e.profile.type?Object(s.jsx)("label",{className:"font-size-12",children:"Entity"}):"individual"==e.profile.type?Object(s.jsx)("label",{className:"font-size-12",children:"Individual"}):null},compact:!0},{name:Object(s.jsx)("label",{className:"table-header",children:"Invites Under"}),cell:function(e){return Object(s.jsx)("label",{className:"font-size-12",children:e.invited_by||""})},compact:!0},{name:Object(s.jsx)("label",{className:"table-header",children:"Submitted Name"}),cell:function(e){return e.first_name||e.last_name?Object(s.jsxs)("label",{className:"font-size-12",children:[e.first_name," ",e.last_name]}):Object(s.jsx)("label",{className:"font-size-12",children:e.company_name})},compact:!0}];this.setState({columns:t,invites:e.individuals||[]})}},{key:"renderTable",value:function(){var e=this.state,t=e.columns,c=e.invites;return Object(s.jsxs)(o.Fragment,{children:[Object(s.jsx)("h3",{className:"mt-4 mb-3 font-weight-bold",children:"Entity shareholders and decision makers"}),Object(s.jsx)("div",{className:"table-wrapper",children:Object(s.jsx)(L.a,{columns:t,data:c,responsive:!0,noHeader:!0,striped:!0,persistTableHead:!0})})]})}},{key:"renderSender",value:function(){var e=this.props.user;if(console.log(e),!e.parent||!e.parent.id)return null;var t=e.parent;return Object(s.jsxs)(o.Fragment,{children:[Object(s.jsx)("label",{className:"font-size-14 d-block",children:Object(s.jsx)("b",{children:"Data From Invite Sender"})}),Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["Invitee Email: ",Object(s.jsx)("b",{children:t.email})]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["Invitee Reason: ",Object(s.jsx)("b",{children:"admin"===t.role?"Admin":t.company_name})]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["Invitee Name: ",Object(s.jsx)("b",{children:t.profile.invitation_name})]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["Invitee Role: ",Object(s.jsx)("b",{children:t.profile.invitation_name})]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["Timestamp of invite:"," ",Object(s.jsx)("b",{children:T(t.created_at).local().format("M/D/YYYY h:mm A")})]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["Invited by: ",Object(s.jsx)("b",{children:"admin"===t.role?"Admin":t.invited_by})]})})]})]})}},{key:"renderReceiver",value:function(){var e=this.props.user,t="";e&&e.profile&&(t=e.profile.type||"");var c=null;return e&&e.profile&&e.profile.opened_at&&(c=T(e.profile.opened_at).local().format("M/D/YYYY h:mm A")),Object(s.jsxs)(o.Fragment,{children:[Object(s.jsx)("label",{className:"font-size-14 d-block",children:Object(s.jsx)("b",{children:"Data From Invite Receiver"})}),Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["Type Selected:"," ",Object(s.jsx)("b",{children:t?w.a.capitalizeFirst(t):""})]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["Business Name: ",Object(s.jsx)("b",{children:e.company_name})]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["Email: ",Object(s.jsx)("b",{children:e.email})]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["Adress: ",Object(s.jsx)("b",{children:e.company_name})]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("label",{children:["Country of Operation: ",Object(s.jsx)("b",{children:e.profile.country_citizenship})]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("label",{children:["Invite Opened: ",Object(s.jsx)("b",{children:c})]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["IP Address: ",Object(s.jsx)("b",{children:e.company_name})]})})]})]})}},{key:"renderDocSection",value:function(){return Object(s.jsx)("section",{id:"aml-section",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-md-5",children:this.renderDocSubmission()}),Object(s.jsx)("div",{className:"col-md-4",children:this.renderDocStatus()}),Object(s.jsx)("div",{className:"col-md-3 text-center",children:this.renderDocSectionButtons()})]})})}},{key:"renderDocSubmission",value:function(){var e=this.props.user,t=e.profile.entity_doc,c=JSON.parse(t);return Object(s.jsxs)(o.Fragment,{children:[Object(s.jsx)("label",{className:"font-size-14 d-block",children:Object(s.jsx)("b",{children:"KYB and Business documents Submission"})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col-md-12",children:Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["Company Name: ",Object(s.jsx)("b",{children:e.company_name})]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["Country: ",Object(s.jsx)("b",{children:e.profile.country_company})]})}),Object(s.jsx)("li",{children:Object(s.jsxs)("label",{className:"font-size-14",children:["Registration Number:"," ",Object(s.jsx)("b",{children:e.profile.dob?T(e.profile.dob).format("DD/MM/YYYY"):""})]})}),Object(s.jsxs)("li",{children:[Object(s.jsx)("label",{className:"font-size-14",children:"Uploaded Documents"}),Object(s.jsx)("div",{className:"mt-2",children:0!==c.length&&c.map((function(e,t){return Object(s.jsx)("div",{className:"ml-4 font-size-14",children:Object(s.jsx)("a",{href:"/entity-doc",children:e})},"entity-doc-".concat(t))}))})]})]})})})]})}},{key:"renderDocStatus",value:function(){return Object(s.jsxs)(o.Fragment,{children:[Object(s.jsx)("label",{className:"font-size-14 d-block",children:Object(s.jsx)("b",{children:"KYB API Response"})}),Object(s.jsx)("div",{className:"row"})]})}},{key:"renderDocSectionButtons",value:function(){var e=this.props.user.shuftipro||{};return e&&e.reviewed?null:Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:Object(s.jsx)("a",{className:"btn btn-sm btn-success w-75",onClick:this.clickApprove,children:"Approve"})}),Object(s.jsx)("li",{className:"mt-2",children:Object(s.jsx)("a",{className:"btn btn-sm btn-danger w-75",onClick:this.clickDeny,children:"Deny"})}),Object(s.jsx)("li",{className:"mt-2",children:Object(s.jsx)("a",{className:"btn btn-sm btn-primary w-75",onClick:this.clickReset,children:"Reset"})})]})}},{key:"render",value:function(){var e=this.props,t=e.authUser,c=e.user;return t&&t.id&&c&&c.id?Object(s.jsxs)("div",{id:"app-single-user-page__entityView",children:[Object(s.jsx)("h3",{className:"font-weight-bold",children:"Entity KYB Summary"}),Object(s.jsxs)("h6",{className:"mb-3 text-gray font-weight-bold",children:["Shareholder & decision maker at ",c.company_name,"."]}),Object(s.jsxs)("section",{children:[Object(s.jsxs)("label",{className:"font-size-14 d-block",children:["Invite Number: ",Object(s.jsx)("b",{children:c.id})]}),Object(s.jsxs)("label",{className:"font-size-14 d-block",children:["Status: ",Object(s.jsx)("b",{children:w.a.capitalizeFirst(c.profile.status)})]}),Object(s.jsxs)("div",{className:"row mt-3",children:[Object(s.jsx)("div",{className:"col-md-6",children:this.renderSender()}),Object(s.jsx)("div",{className:"col-md-6",children:this.renderReceiver()})]})]}),this.renderDocSection(),this.renderTable()]}):null}}]),c}(o.Component),K=Object(d.b)((function(e){return{authUser:e.global.authUser}}))(Object(h.h)(E));c("bzz/");function J(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var c,s=Object(a.a)(e);if(t){var n=Object(a.a)(this).constructor;c=Reflect.construct(s,arguments,n)}else c=s.apply(this,arguments);return Object(l.a)(this,c)}}var q=function(e){Object(i.a)(c,e);var t=J(c);function c(e){var s;return Object(n.a)(this,c),(s=t.call(this,e)).state={userId:0,user:{}},s}return Object(r.a)(c,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.userId||0;this.setState({userId:t},(function(){e.getUser()}))}},{key:"componentDidUpdate",value:function(e){var t=this,c=this.props.match.params;if(e.match.params.userId!=c.userId&&c.userId){var s=c.userId||0;this.setState({userId:s},(function(){t.getUser()}))}!e.singlePageStatus&&this.props.singlePageStatus&&this.getUser()}},{key:"getUser",value:function(){var e=this,t=this.props.history,c=this.state.userId;this.props.dispatch(Object(v.o)(c,(function(){e.props.dispatch(Object(N.L)())}),(function(c){e.props.dispatch(Object(N.w)()),c&&c.user?e.setState({user:c.user}):t.push("/")})))}},{key:"renderContent",value:function(){var e=this,t=this.state.user,c=t.profile.type;return console.log("type",c),"individual"==c?Object(s.jsx)(U,{user:t,onRefresh:function(){return e.getUser()}}):"entity"==c?Object(s.jsx)(K,{user:t}):Object(s.jsx)(R,{user:t})}},{key:"render",value:function(){var e=this.props.authUser;if(!e||!e.id)return null;var t=this.state.user;return t&&t.id?Object(s.jsx)("div",{id:"app-single-user-page",children:Object(s.jsxs)("div",{className:"c-container",children:[Object(s.jsx)("div",{id:"go-back-btn",children:Object(s.jsxs)(b.b,{to:"/app",children:[Object(s.jsx)(x,{}),Object(s.jsx)("label",{children:"Go Back"})]})}),this.renderContent()]})}):null}}]),c}(o.Component);t.default=Object(d.b)((function(e){return{authUser:e.global.authUser,singlePageStatus:e.global.singlePageStatus}}))(Object(h.h)(q))}}]);